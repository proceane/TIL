# SSH

### SSH란?
네트워크 상의 다른 컴퓨터에 로그인하거나 원격 시스템에서 명령을 실행하고 다른 시스템으로 파일을 복사할 수 있도록 해주는 응용 프로그램 또는 그 프로토콜  
원격 접속용 쉘인데 보안(키 파일, 자격 증명 등)이 적용된 프로토콜이라고 볼 수 있음  

SSH는 OSI 7계층 중 5계층인 세션 계층에 해당한다고 함(7계층일수도)  

### SSH 터널링

터널링 == 포트포워딩이라고 봐도 되는가?   

SSH 터널링이란 SSH 접속을 다른 프로그램이 사용할 수 있도록 포트포워딩 해주는 것을 말함  
이 SSH 터널링을 이용해 암호화 접속을 사용하지 않는 네트워크 접속을 보다 안전하게 사용할 수 있음  
요약하면 SSH 터널링은 SSH 연결을 통해 임의의 네트워킹 데이터를 전송하는 방법이라는 의미  

SSH를 사용하면 애플리케이션 데이터 트래픽이 암호화됨  
이는 암호화를 지원하지 않는 레거시 애플리케이션에 네트워크 보안을 추가할 수 있다는 의미  

SSH 클라이언트 = 파일질라, putty같이 SSH 접속을 설정할 수 있는 프로그램? SSH 연결을 설정할 수 있는 프로그램  
SSH 서버 = 암호화된 자격 증명(pem이나 계정)을 통해 접속을 허용하는 서버? → 정의 찾아보기  
SSH를 통해 접속하고자 하는 서버. 뭐 특정한 종류는 아니고 그냥 SSH로 접속가능한 서버라고 이해하면 될듯  

보통 엔간한 운영체제에서는 SSH 서버를 제공한다고 함

SSH 클라이언트를 통해 SSH 서버에 연결함
SSH 서버에 연결된 애플리케이션 서버가 있는 형태
어쨌든 애플리케이션 서버는 SSH 서버를 통해서만 접속이 가능한데, 이 서버에 접속할 수 있게 해주는게 SSH 터널링

### 로컬 터널링

Remote 서버의 특정 포트를 SSH를 통해 로컬의 포트와 연결하여 해당 포트로 Remote 서버에 접근할 수 있게 해주는 것(내가 정의한거)  
포트 포워딩 = 포트 전달  

다른 레퍼런스에서의 로컬터널링의 정의는 클라이언트 시스템에서 서버 시스템으로 포트를 포워딩(전달)하는 데 사용된다.

SSH 클라이언트는 지정?구성된 포트에서 연결을 수신 대기하고 연결을 수신하면 SSH 서버로 연결을 터널링합니다.  
(클라이언트?)서버는 SSH 서버와는 다른 시스템에 있는 목적지(remote) 서버의 대상 포트에 연결합니다.  

명령어로 쓴다고 하면
```bash
ssh -L 9999:<destination-ip>:<destination-part> <bastion-user>@<bastion-ip>
```

### Reference
https://ko.wikipedia.org/wiki/%EC%8B%9C%ED%81%90%EC%96%B4_%EC%85%B8
https://wiki.kldp.org/KoreanDoc/html/SSH-KLDP/x125.html
https://www.ssh.com/academy/ssh/tunneling-example
https://www.ssh.com/academy/ssh/tunneling
